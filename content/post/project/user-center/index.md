---
date: 2021-01-28T20:19:00+08:00
title: "基于RBAC模型用户中心设计"
draft: false
tags: ["设计规划", "个人项目"]
keywords:
- "项目管理"
- 用户中心
- RBAC
description : "基于RBAC模型用户中心设计"
---

## 前言
最近接触了微前端qiankun，打算玩下，先把用户中心抽离出来，做单独模块；恰好接触到了RBAC模型，就写一篇博文记录。

<!--more-->

## RBAC是什么？
[RBAC模型：基于用户-角色-权限控制的一些思考](https://juejin.cn/post/6844903940673241102#heading-2)

## 用户中心的职责
- 用户的管理（CURD）（管理员行为）
- JWT的签发、校验（RPC）
- 登录、注册、修改密码等（用户行为）
- 权限（permssion）的管理
- 角色（role）的管理
- 角色组（group）的管理

起初我认为权限、角色、角色组应该子应用自治。因为过多的自应用权限会让`用户中心`的管理员变得庞大；例如我增加一个`子应用`，增加100个权限，我就得给`用户中心`的管理员增加这100个权限。非常麻烦。
但是看过`RBAC`标准模型后，我发现`RBAC1`可以代完美解决这个问题。  

1. 首先创建一个root角色
2. child角色继承parent角色
3. 所以child行使的权限，parent都可以行使
4. 加也角色组方便批处理


完成解决

$$
\begin{matrix}
  最终权限 \in 权限 \cup 角色 \cup 角色组
\end{matrix}
$$

